<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>View order</title>
    <script src=https://code.jquery.com/jquery-3.6.0.js></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <style>
                body{
    margin: 0;
}
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #333;
}

li {
  float: left;
  border-right:1px solid #bbb;
}

li:last-child {
  border-right: none;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

li a:hover:not(.active) {
  background-color: #111;
}

.active {
  background-color: #4DC3EB;
}
.card {
    display:inline-block;
    margin-bottom: 50px;
    background-color: white;
}
img.white-image {
  filter: brightness(0%) invert(100%);
  -webkit-filter: brightness(0%) invert(100%); /* Safari and Chrome */
  -moz-filter: brightness(0%) invert(100%); /* Firefox */
  -ms-filter: brightness(0%) invert(100%); /* IE */
  -o-filter: brightness(0%) invert(100%); /* Opera */
}
    </style>
</head>
<body>
<!-- https://ed100.org/uploads/images/shares/academy/pencil-orange.png снимка на моливче-->
<div class="navdiv">
    <ul>
        <li><a  href="/">Начало</a></li>
        <li><a href="/menu">Меню</a></li>
        <li><a href="/orders/active">Активни поръчки</a></li>
        <Li><a href="/tables" class="active">Маси</a>
        <Li><a href="/orders/reference-waiter">Справки</a></Li>
        <img class="white-image" src="https://uxwing.com/wp-content/themes/uxwing/download/food-and-drinks/restaurant-waiter-icon.png"
             width="50" height="50" style="float:right" th:if="${loggedUser.role}==${T(com.waiter.waiter.enums.Role).WAITER}">
        <img class="white-image" src="https://freeiconshop.com/wp-content/uploads/edd/chef-solid.png"
             width="50" height="50" style="float:right" th:if="${loggedUser.role}==${T(com.waiter.waiter.enums.Role).COOK}">
        <li style="float:right"><a href="/login">Изход</a></li>
    </ul>
</div>
<br/>
<div class="container">
    <div class="text-center">
        <h3 th:text="'Поръчка за '+${order.table.getNumber}+' маса'"></h3>
        <h4 th:text="'Статус: '+${order.orderStatus.getValue}"></h4>
        <!--<a href="/orders/change-status" class="btn btn-outline-primary">Промяна на статуса(Още не работи)</a>-->
        <form th:action="@{/orders/change-status/{orderId}(orderId=${order.id})}" method="post">
            <button class="btn btn-outline-success" type="submit" th:hidden="${orderDishNull} == true" th:disabled="${isAbleToChangeStatus} == false">Промяна на статуса</button>
            <div th:if="${orderDishNull} == true">Няма добавени ястия или напитки</div>
            <!--<input type="submit" name="more" value="" class="btn btn-outline-primary" href="@{/orders/add-dishes/{orderId}(orderId=${order.id})}"><img src="https://img.freepik.com/free-icon/plus_318-580436.jpg" width="40"/></a>-->
        </form>
    </div>
<!--<a href="/orders/addProducts">+</a>-->

<form th:action="@{/orders/add-dishes/{orderId}(orderId=${order.id})}" method="post">
    <input type="image" src="https://img.freepik.com/free-icon/plus_318-580436.jpg" alt="Submit" style="float:left" width="40" height="40">
    <!--<input type="submit" name="more" value="" class="btn btn-outline-primary" href="@{/orders/add-dishes/{orderId}(orderId=${order.id})}"><img src="https://img.freepik.com/free-icon/plus_318-580436.jpg" width="40"/></a>-->
</form>
<br/><br/><br/>
    <!--<td>
    <span th:if="${teacher.gender == 'F'}">Female</span>
    <span th:unless="${teacher.gender == 'F'}">Male</span>
</td>-->
    <table class="table table-striped">
        <thead>
        <span th:if="${isOrderDishNull == false}">
        <tr>
            <th>Ястие</th>
            <th>Единична цена</th>
            <th>Количество</th>
            <th>Цена</th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        </span>
        </thead>
        <tbody>
            <div th:each="od : ${orderDish}">
                <tr>
                    <td>[[${od.dish.name}]] <br> [[${od.dish.quantity} + ${od.dish.dishQuantityType}]]</td>
                    <td th:text="${od.pricePerItem} + ' лв.'"></td>
                    <td th:text="${od.quantity}"></td>
                    <td th:text="${od.currentPrice} + ' лв.'"></td>

                    <td>
                        <form th:action="@{/orders/add-one-to-quantity/{orderDishId}(orderDishId=${od.id})}" method="post">
                            <input type="image" src="https://www.pngall.com/wp-content/uploads/10/Plus-Symbol-Vector-PNG.png" alt="Submit"
                                   width="40" height="40" th:disabled="${od.order.orderStatus} != ${T(com.waiter.waiter.enums.OrderStatus).TAKING}">
                        </form>
                    </td>
                    <td>
                        <form th:action="@{/orders/remove-one-from-quantity/{orderDishId}(orderDishId=${od.id})}" method="post">
                            <input type="image" src="https://as1.ftcdn.net/v2/jpg/01/13/16/86/1000_F_113168648_v07Gg3cMYXA15H6GK5pAV0vYevGLy8jk.jpg" alt="Submit"
                                   width="40" height="40" th:disabled="${od.order.orderStatus} != ${T(com.waiter.waiter.enums.OrderStatus).TAKING}">
                        </form>
                    </td>
                    <td>
                        <!-- Premahwane  https://www.freeiconspng.com/uploads/red-x-close-button-png-0.png -->
                        <form th:action="@{/orders/delete-dishes/{orderDishId}(orderDishId=${od.id})}" method="post">
                            <input type="image" src="https://www.freeiconspng.com/uploads/red-x-close-button-png-0.png" alt="Submit"
                                   width="40" height="40" th:disabled="${od.order.orderStatus} != ${T(com.waiter.waiter.enums.OrderStatus).TAKING}">
                        </form>
                        <!--https://www.pngall.com/wp-content/uploads/10/Plus-Symbol-Vector-PNG.png-->
                        <!--@{/orders/create/{tId}/{waiterId}(tId=${t.id}, waiterId=${waiter.id})}-->

                    </td>
                </tr>
            </div>
        </tbody>

    </table>

<br/><br/><br/>
<a href="/tables" class="btn btn-outline-secondary">Назад</a>
<!-- Button trigger modal -->
<!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
    Launch demo modal
</button>-->


<!-- Modal -->
<!--<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>-->
</div>
</body>
</html>